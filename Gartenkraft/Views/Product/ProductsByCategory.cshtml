@model IEnumerable<Gartenkraft.Models.vwProduct>

@{
    ViewBag.Title = ViewBag.CategoryName;
}

<h2>@ViewBag.CategoryName</h2>

<section class="items row">
    
    <ul class="item-list list-unstyled clearfix">

        @foreach (var product in Model)
        {
            <li class="col-md-4 product-tile">

                <a href="@Url.Action("View", "Product", new {productID = product.product_id})" class="product-tiles">
                    <div class="product-info">
                        <div id="@product.product_id" class="product-name">
                            <h3>@product.product_name</h3>
                            <p class="product-short-description">@product.product_short_description</p>
                        </div>
                        <div class="product-image">
                            @if (product.ProductImages.Count > 0)
                            {
                                <img src="@Url.Content("~/ProductImages/" + product.product_id + "/" + product.ProductImages.First().product_image_name)" alt="@product.ProductImages.First().product_image_name image" title="@product.ProductImages.First().product_image_name" class="center-block img-responsive"/>
                            }
                            else
                            {
                                <img src="http://via.placeholder.com/200x200" alt="Product Image" class="center-block img-responsive"/>
                            }
                        </div>
                        <div class="product-price">
                            <p>@product.PriceRange</p>
                        </div> 
                    </div>

                </a>
            </li>


            @*<li class="col-md-4 text-center">
                <div class="info">
                    <h3>@item.product_name</h3>
                    @if (item.ProductImages.Count > 0)
                    {
                        <img src="@Url.Content("~/ProductImages/" + item.product_id + "/" + item.ProductImages.First().product_image_name)" alt="Product Image" class="center-block img-responsive"/>
                    }
                    else
                    {
                        <img src="http://via.placeholder.com/200x200" alt="Product Image" class="center-block img-responsive"/>
                    }
                    <p class="text-muted">@item.product_short_description</p>
                    <p>Price: @item.PriceRange</p>
                </div>
                @Html.ActionLink("Show details", "View", "Product", new {productID = item.product_id}, new {@class = "btn btn-primary"})
            </li>*@
        }

    </ul>
</section>

