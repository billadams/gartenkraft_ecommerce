@model IEnumerable<Gartenkraft.Models.vwProduct>

@{
    ViewBag.Title = ViewBag.CategoryName;
}

<h2>@ViewBag.CategoryName</h2>

<section class="items row">
    
    <ul class="item-list list-unstyled clearfix">

        @foreach (var product in Model)
        {
            <li class="col-md-4 tile-container">

                <a href="@Url.Action("View", "Product", new {productID = product.product_id})" class="product-tiles">
                    <div class="product-info">
                        <div id="@product.product_id" class="product-name">
                            <h3>@product.product_name</h3>
                            <p class="product-short-description">@product.product_short_description</p>
                        </div>
                        <div class="product-image">
                            @if (product.ProductImages.Count > 0)
                            {
                                <img src="@Url.Content("~/ProductImages/" + product.product_id + "/" + product.ProductImages.First().product_image_name)" alt="@product.ProductImages.First().product_image_name image" title="@product.ProductImages.First().product_image_name" class="center-block img-responsive"/>
                            }
                            else
                            {
                                <img src="http://via.placeholder.com/200x200" alt="Product Image" class="center-block img-responsive"/>
                            }
                        </div>
                        <div class="category-product-price">
                            <p class="pull-right">@product.PriceRange</p>
                        </div> 
                    </div>
                </a>
                <div class="link-overlay">View details</div>
            </li>
        }

    </ul>
</section>